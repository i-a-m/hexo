<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Python操作MongoDB | i@m</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="/css/normalize.min.css"><link rel="stylesheet" type="text/css" href="/css/pure-min.css"><link rel="stylesheet" type="text/css" href="/css/grids-responsive-min.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><script type="text/javascript" src="/js/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Python操作MongoDB</h1><a id="logo" href="/.">i@m</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Python操作MongoDB</h1><div class="post-meta">Jun 22, 2017<span> | </span><span class="category"><a href="/categories/python/">python</a></span><script src="/js/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><div class="post-content"><p>这篇文章主要介绍了使用Python脚本操作MongoDB的教程,MongoDB作为非关系型数据库得到了很大的宣传力度,而市面上的教程一般都是讲解JavaScript的脚本操作,本文则是基于Python,需要的朋友可以参考下</p>
<h4 id="0-启动mongodb数据库"><a href="#0-启动mongodb数据库" class="headerlink" title="0.启动mongodb数据库"></a>0.启动mongodb数据库</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ mongod.exe --dbpath D:\mongodb\data\db</div></pre></td></tr></table></figure>
<h4 id="1-连接数据库"><a href="#1-连接数据库" class="headerlink" title="1.连接数据库"></a>1.连接数据库</h4><p><strong>MongoClient VS Connection</strong></p>
<p>class MongoClient(pymongo.common.BaseObject)<br>| Connection to MongoDB.<br>|<br>| Method resolution order:<br>| MongoClient<br>| pymongo.common.BaseObject<br>| <strong>builtin</strong>.object<br>|</p>
<p>class Connection(pymongo.mongo_client.MongoClient)<br>| Connection to MongoDB.<br>|<br>| Method resolution order:<br>| Connection<br>| pymongo.mongo_client.MongoClient<br>| pymongo.common.BaseObject<br>| <strong>builtin</strong>.object</p>
<p>从这两个类的继承来看，connection是继承了MongoClient的，建议使用MongoClient而不是使用Connection。（也就是说，MongoClient可以使用方法Connection都可以使用）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">from pymongo import MongoClient</div><div class="line"></div><div class="line">client = MongoClient(&apos;192.168.40.87&apos;, 27037)</div><div class="line">db_name = &apos;TCL_Useraction&apos;</div><div class="line">db = client[db_name]</div><div class="line">collection_useraction = db[&apos;useraction&apos;]</div></pre></td></tr></table></figure>
<p>这里是通过字典的方式访问数据库和集合，同时你也可以通过.（点号）的方式访问</p>
<h4 id="2-插入数据"><a href="#2-插入数据" class="headerlink" title="2.插入数据"></a>2.插入数据</h4><p>save() VS insert()</p>
<p>mongodb的save和insert函数都可以向collection里插入数据，但两者是有两个区别：</p>
<p>一、save函数实际就是根据参数条件,调用了insert或update函数.如果想插入的数据对象存在,insert函数会报错,而save函数是改变原来的对象;如果想插入的对象不存在,那么它们执行相同的插入操作.这里可以用几个字来概括它们两的区别,即所谓”有则改之,无则加之”.</p>
<p>二、insert可以一次性插入一个列表，而不用遍历，效率高， save则需要遍历列表，一个个插入。</p>
<h4 id="3-更新数据"><a href="#3-更新数据" class="headerlink" title="3.更新数据"></a>3.更新数据</h4><p>对于单个数据来说，可以更新后使用save方法</p>
<p>update(criteria, objNew, upsert, mult)</p>
<ul>
<li>criteria: 需要被更新的条件表达式</li>
<li>objNew: 更新表达式</li>
<li>upsert: 如目标记录不存在，是否插入新文档。</li>
<li>multi: 是否更新多个文档。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">collection_useraction.update(&#123;&apos;gid&apos;:last_gid, &apos;time&apos;:l_date&#125;, </div><div class="line">                             &#123;&apos;$set&apos;:&#123;&apos;gid&apos;:last_gid&#125;, </div><div class="line">                              &apos;$set&apos;:&#123;&apos;time&apos;:l_date&#125;, </div><div class="line">                              &apos;$addToSet&apos;:&#123;&apos;categories&apos;:category_data&#125;&#125;, </div><div class="line">                             upsert=True)</div></pre></td></tr></table></figure>
<h4 id="4-删除数据"><a href="#4-删除数据" class="headerlink" title="4.删除数据"></a>4.删除数据</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">db.users.drop() # 删除集合</div><div class="line"></div><div class="line"># remove(self, spec_or_id=None, safe=None, multi=True, **kwargs)</div><div class="line"># remove() 用于删除单个或全部文档，删除后的文档无法恢复。</div><div class="line">id = db.users.find_one(&#123;&quot;name&quot;:&quot;user2&quot;&#125;)[&quot;_id&quot;]</div><div class="line">db.users.remove(id) # 根据 id 删除一条记录</div><div class="line">db.users.remove() # 删除集合里的所有记录</div><div class="line">db.users.remove(&#123;&apos;yy&apos;:5&#125;) # 删除yy=5的记录</div></pre></td></tr></table></figure>
<h4 id="5-查询"><a href="#5-查询" class="headerlink" title="5.查询"></a>5.查询</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># 查询 age 小于 15 的</div><div class="line">for u in db.users.find(&#123;&quot;age&quot;:&#123;&quot;$lt&quot;:15&#125;&#125;):</div><div class="line">    print(u)</div></pre></td></tr></table></figure>
<h5 id="5-1-查询一条记录"><a href="#5-1-查询一条记录" class="headerlink" title="5.1 查询一条记录"></a>5.1 查询一条记录</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"># 查询 name 等于 user8 的</div><div class="line">for u in db.users.find(&#123;&quot;name&quot;:&quot;user8&quot;&#125;):</div><div class="line">    print(u)</div><div class="line"></div><div class="line"></div><div class="line"># 获取查询的一个</div><div class="line">u2 = db.users.find_one(&#123;&quot;name&quot;:&quot;user9&quot;&#125;) # 查不到时返回 None</div><div class="line">    print(u2)</div></pre></td></tr></table></figure>
<h5 id="5-2-查询特定键-fields"><a href="#5-2-查询特定键-fields" class="headerlink" title="5.2 查询特定键 (fields)"></a>5.2 查询特定键 (fields)</h5><p><strong>特别说明</strong>：<br>在3.0版本中，这个参数已经改名为<code>projection</code>，若用<code>fields</code>会报错</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"># select name, age from users where age = 21</div><div class="line">for u in db.users.find(&#123;&quot;age&quot;:21&#125;, [&quot;name&quot;, &quot;age&quot;]):</div><div class="line">    print(u)</div><div class="line">for u in db.users.find(fields = [&quot;name&quot;, &quot;age&quot;]):</div><div class="line">    print(u)</div></pre></td></tr></table></figure>
<h5 id="5-3-排序-SORT"><a href="#5-3-排序-SORT" class="headerlink" title="5.3 排序(SORT)"></a>5.3 排序(SORT)</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">pymongo.ASCENDING # 也可以用 1 来代替</div><div class="line">pymongo.DESCENDING # 也可以用 -1 来代替</div><div class="line"></div><div class="line">for u in db.users.find().sort([(&quot;age&quot;, pymongo.ASCENDING)]):</div><div class="line">    print(u)  # select * from 集合名 order by 键1</div><div class="line"></div><div class="line">for u in db.users.find().sort([(&quot;age&quot;, pymongo.DESCENDING)]):</div><div class="line">    print(u) # select * from 集合名 order by 键1 desc</div><div class="line"></div><div class="line">for u in db.users.find().sort([(&quot;键1&quot;, pymongo.ASCENDING), (&quot;键2&quot;, pymongo.DESCENDING)]):</div><div class="line">    print(u) # select * from 集合名 order by 键1 asc, 键2 desc</div><div class="line"></div><div class="line">for u in db.users.find(sort = [(&quot;键1&quot;, pymongo.ASCENDING), (&quot;键2&quot;, pymongo.DESCENDING)]):</div><div class="line">    print(u) # sort 的另一种写法</div><div class="line"></div><div class="line">for u in db.users.find(&#123;&quot;name&quot;:&quot;user9&quot;&#125;, sort=[[&apos;name&apos;,1],[&apos;sex&apos;,1]], fields = [&quot;name&quot;, &quot;age&quot;, &apos;sex&apos;]):</div><div class="line">    print(u) # 组合写法</div></pre></td></tr></table></figure>
<h5 id="5-4-从第几行开始读取-SLICE-，读取多少行-LIMIT"><a href="#5-4-从第几行开始读取-SLICE-，读取多少行-LIMIT" class="headerlink" title="5.4 从第几行开始读取(SLICE)，读取多少行(LIMIT)"></a>5.4 从第几行开始读取(SLICE)，读取多少行(LIMIT)</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"># select * from 集合名 skip 2 limit 3</div><div class="line"># MySQL 的写法： select * from 集合名 limit 2, 3</div><div class="line">for u in db.users.find().skip(2).limit(3):</div><div class="line">    print(u)</div><div class="line">for u in db.users.find(skip = 2, limit = 3):</div><div class="line">    print(u)</div><div class="line"></div><div class="line"># 可以用切片代替 skip &amp; limit (mongo 中的 $slice 貌似有点问题)。</div><div class="line">for u in db.users.find()[2:5]:</div><div class="line">    print(u)</div><div class="line"></div><div class="line"># 单独的写</div><div class="line">for u in db.users.find().skip(2):</div><div class="line">    print(u)</div><div class="line">for u in db.users.find(skip=1):</div><div class="line">    print(u)</div><div class="line">for u in db.users.find().limit(5):</div><div class="line">    print(u)</div><div class="line">for u in db.users.find(limit = 3):</div><div class="line">    print(u)</div></pre></td></tr></table></figure>
<h5 id="5-5-多条件查询-Conditional-Operators-like-的可使用正则表达式查询"><a href="#5-5-多条件查询-Conditional-Operators-like-的可使用正则表达式查询" class="headerlink" title="5.5 多条件查询(Conditional Operators) # like 的可使用正则表达式查询"></a>5.5 多条件查询(Conditional Operators) # like 的可使用正则表达式查询</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"># select * from users where name = &apos;user3&apos; and age &gt; 12 and age &lt; 15</div><div class="line">for u in db.users.find(&#123;&apos;age&apos;: &#123;&apos;$gt&apos;: 12, &apos;$lt&apos;: 15&#125;, &apos;name&apos;: &apos;user3&apos;&#125;):</div><div class="line">    print(u)</div><div class="line"># select * from users where name = &apos;user1&apos; and age = 21</div><div class="line">for u in db.users.find(&#123;&quot;age&quot;:21, &quot;name&quot;:&quot;user1&quot;&#125;):</div><div class="line">    print(u)</div></pre></td></tr></table></figure>
<h5 id="5-6-IN"><a href="#5-6-IN" class="headerlink" title="5.6 IN"></a>5.6 IN</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">for u in db.users.find(&#123;&quot;age&quot;:&#123;&quot;$in&quot;:(23, 26, 32)&#125;&#125;):</div><div class="line">    print(u)  # select * from users where age in (23, 26, 32)</div><div class="line">for u in db.users.find(&#123;&quot;age&quot;:&#123;&quot;$nin&quot;:(23, 26, 32)&#125;&#125;):</div><div class="line">    print(u) # select * from users where age not in (23, 26, 32)</div></pre></td></tr></table></figure>
<h5 id="5-7-统计总数-COUNT"><a href="#5-7-统计总数-COUNT" class="headerlink" title="5.7 统计总数(COUNT)"></a>5.7 统计总数(COUNT)</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">print(db.users.count()) # select count(*) from users</div><div class="line">print(db.users.find(&#123;&quot;age&quot;:&#123;&quot;$gt&quot;:30&#125;&#125;).count()) # select count(*) from users where age &gt; 30</div></pre></td></tr></table></figure>
<h5 id="5-8-OR"><a href="#5-8-OR" class="headerlink" title="5.8 OR"></a>5.8 OR</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">for u in db.users.find(&#123;&quot;$or&quot;:[&#123;&quot;age&quot;:25&#125;, &#123;&quot;age&quot;:28&#125;]&#125;):</div><div class="line">    print(u) # select * from 集合名 where 键1 = 值1 or 键1 = 值2</div><div class="line">for u in db.users.find(&#123;&quot;$or&quot;:[&#123;&quot;age&quot;:&#123;&quot;$lte&quot;:23&#125;&#125;, &#123;&quot;age&quot;:&#123;&quot;$gte&quot;:33&#125;&#125;]&#125;):</div><div class="line">    print(u) # select * from 集合名 where 键1 &lt;= 值1 or 键1 &gt;= 值2</div></pre></td></tr></table></figure>
<h5 id="6-是否存在-exists"><a href="#6-是否存在-exists" class="headerlink" title="6. 是否存在 (exists)"></a>6. 是否存在 (exists)</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">db.users.find(&#123;&apos;sex&apos;:&#123;&apos;$exists&apos;:True&#125;&#125;) # select * from 集合名 where exists 键1</div><div class="line">db.users.find(&#123;&apos;sex&apos;:&#123;&apos;$exists&apos;:False&#125;&#125;) # select * from 集合名 where not exists 键1</div></pre></td></tr></table></figure>
<h5 id="7-正则表达式查询"><a href="#7-正则表达式查询" class="headerlink" title="7. 正则表达式查询"></a>7. 正则表达式查询</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">for u in db.users.find(&#123;&quot;name&quot; : &#123;&quot;$regex&quot; : r&quot;(?i)user[135]&quot;&#125;&#125;, [&quot;name&quot;]):</div><div class="line">    print(u) # 查询出 name 为 user1, user3, user5</div></pre></td></tr></table></figure>
<h5 id="8-多级路径的元素值匹配"><a href="#8-多级路径的元素值匹配" class="headerlink" title="8. 多级路径的元素值匹配"></a>8. 多级路径的元素值匹配</h5><p>Document 采取 JSON-like 这种层级结构，因此我们可以直接用嵌入(Embed)代替传统关系型数据库的关联引用(Reference)。<br>MongoDB 支持以 “.” 分割的 namespace 路径，条件表达式中的多级路径须用引号</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"># 如果键里面包含数组，只需简单匹配数组属性是否包含该元素即可查询出来</div><div class="line">db.集合名.find_one(&#123;&apos;address&apos;:&quot;address1&quot;&#125;) # address 是个数组，匹配时仅需包含有即可</div><div class="line"># 查询结果如：&#123;&quot;_id&quot; : ObjectId(&quot;4c479885089df9b53474170a&quot;), &quot;name&quot; : &quot;user1&quot;, &quot;address&quot; : [&quot;address1&quot;, &quot;address2&quot;]&#125;</div><div class="line"></div><div class="line"># 条件表达式中的多级路径须用引号,以 &quot;.&quot; 分割</div><div class="line">u = db.集合名.find_one(&#123;&quot;im.qq&quot;:12345678&#125;)</div><div class="line"># 查询结果如：&#123;&quot;_id&quot; : ObjectId(&quot;4c479885089df9b53474170a&quot;), &quot;name&quot; : &quot;user1&quot;, &quot;im&quot; : &#123;&quot;msn&quot; : &quot;[email protected]&quot;, &quot;qq&quot; : 12345678&#125;&#125;</div><div class="line"></div><div class="line">print(u)[&apos;im&apos;][&apos;msn&apos;] #显示： [email protected]</div><div class="line"></div><div class="line"># 多级路径的更新</div><div class="line">db.集合名.update(&#123;&quot;im.qq&quot;:12345678&#125;, &#123;&apos;$set&apos;:&#123;&quot;im.qq&quot;:12345&#125;&#125;)</div><div class="line"></div><div class="line"># 查询包含特定键的</div><div class="line">for u in db.users.find(&#123;&quot;im.qq&quot;:&#123;&apos;$exists&apos;:True&#125;&#125;, &#123;&quot;im.qq&quot;:1&#125;):</div><div class="line">    print(u)</div><div class="line"># 显示如： &#123; &quot;_id&quot; : ObjectId(&quot;4c479885089df9b53474170a&quot;), &quot;im&quot; : &#123; &quot;qq&quot; : 12345 &#125; &#125;</div><div class="line"></div><div class="line">for u in db.users.find(&#123;&apos;data&apos;:&quot;abc&quot;&#125;):</div><div class="line">    print(u)</div><div class="line"># 显示如： &#123; &quot;_id&quot; : ObjectId(&quot;4c47a481b48cde79c6780df5&quot;), &quot;name&quot; : &quot;user8&quot;, &quot;data&quot; : [ &#123; &quot;a&quot; : 1, &quot;b&quot; : 10 &#125;, 3, &quot;abc&quot; ] &#125;</div><div class="line">for u in db.users.find(&#123;&apos;data&apos;:&#123;&apos;$elemMatch&apos;:&#123;&apos;a&apos;:1, &apos;b&apos;:&#123;&apos;$gt&apos;:5&#125;&#125;&#125;&#125;):</div><div class="line">    print(u)</div><div class="line"># 显示如： &#123; &quot;_id&quot; : ObjectId(&quot;4c47a481b48cde79c6780df5&quot;), &quot;name&quot; : &quot;user8&quot;, &quot;data&quot; : [ &#123; &quot;a&quot; : 1, &quot;b&quot; : 10 &#125;, 3, &quot;abc&quot; ] &#125;</div><div class="line"></div><div class="line">&#123;data:&quot;abc&quot;&#125; 仅简单匹配数组属性是否包含该元素。$elemMatch 则可以处理更复杂的元素查找条件。当然也可以写成如下方式：</div><div class="line">db.集合名.find(&#123;&quot;data.a&quot;:1, &quot;data.b&quot;:&#123;&apos;$gt&apos;:5&#125;&#125;)</div><div class="line"></div><div class="line">对数组, 还可以直接使用序号进行操作：</div><div class="line">db.集合名.find(&#123;&quot;data.1&quot;:3&#125;) # 序号从0开始</div><div class="line"></div><div class="line"># 如集合的一列内容</div><div class="line">&#123;&quot;classifyid&quot;:&quot;test1&quot;,</div><div class="line"> &quot;keyword&quot;:[</div><div class="line">    &#123;&quot;name&quot;:&apos;test1&apos;, # 将修改此值为 test5 (数组下标从0开始,下标也是用点)</div><div class="line">    &quot;frequence&quot;:21,</div><div class="line">    &#125;,</div><div class="line">    &#123;&quot;name&quot;:&apos;test2&apos;, # 子表的查询，会匹配到此值</div><div class="line">    &quot;frequence&quot;:50,</div><div class="line">    &#125;,</div><div class="line"> ]</div><div class="line">&#125;</div><div class="line"># 子表的修改(子表的其它内容不变)</div><div class="line">db.集合名.update(&#123;&quot;classifyid&quot;:&quot;test1&quot;&#125;, &#123;&quot;$set&quot;:&#123;&quot;keyword.0.name&quot;:&apos;test5&apos;&#125;&#125;)</div><div class="line"># 子表的查询</div><div class="line">db.集合名.find(&#123;&quot;classifyid&quot;:&quot;test1&quot;, &quot;keyword.0.name&quot;:&quot;test2&quot;&#125;)</div></pre></td></tr></table></figure>
<h4 id="6-操作"><a href="#6-操作" class="headerlink" title="6.操作"></a>6.操作</h4><p>(1) <code>$all</code>: 判断数组属性是否包含全部条件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">db.users.insert(&#123;&apos;name&apos;:&quot;user3&quot;, &apos;data&apos;:[1,2,3,4,5,6,7]&#125;)</div><div class="line">db.users.insert(&#123;&apos;name&apos;:&quot;user4&quot;, &apos;data&apos;:[1,2,3]&#125;)</div><div class="line"></div><div class="line">for u in db.users.find(&#123;&apos;data&apos;:&#123;&apos;$all&apos;:[2,3,4]&#125;&#125;):</div><div class="line">    print(u)</div><div class="line"># 显示： &#123; &quot;_id&quot; : ObjectId(&quot;4c47a133b48cde79c6780df0&quot;), &quot;name&quot; : &quot;user3&quot;, &quot;data&quot; : [ 1, 2, 3, 4, 5, 6, 7 ] &#125;</div></pre></td></tr></table></figure>
<p>注意和 <code>$in</code> 的区别。<code>$in</code> 是检查目标属性值是条件表达式中的一员，而 <code>$all</code> 则要求属性值包含全部条件元素。</p>
<p>(2) <code>$size</code>: 匹配数组属性元素数量。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">for u in db.users.find(&#123;&apos;data&apos;:&#123;&apos;$size&apos;:3&#125;&#125;):</div><div class="line">    print(u)</div><div class="line"># 只显示匹配此数组数量的： &#123; &quot;_id&quot; : ObjectId(&quot;4c47a13bb48cde79c6780df1&quot;), &quot;name&quot; : &quot;user4&quot;, &quot;data&quot; : [ 1, 2, 3 ] &#125;</div></pre></td></tr></table></figure>
<p>(3) <code>$type</code>: 判断属性类型。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">for u in db.users.find(&#123;&apos;t&apos;:&#123;&apos;$type&apos;:1&#125;&#125;):</div><div class="line">    print(u) # 查询数字类型的</div><div class="line">for u in db.users.find(&#123;&apos;t&apos;:&#123;&apos;$type&apos;:2&#125;&#125;):</div><div class="line">    print(u) # 查询字符串类型的</div></pre></td></tr></table></figure>
<p>类型值:<br>double:1<br>string: 2<br>object: 3<br>array: 4<br>binary data: 5<br>object id: 7<br>boolean: 8<br>date: 9<br>null: 10<br>regular expression: 11<br>javascript code: 13<br>symbol: 14<br>javascript code with scope: 15<br>32-bit integer: 16<br>timestamp: 17<br>64-bit integer: 18<br>min key: 255<br>max key: 127</p>
<p>(4) <code>$not</code>: 取反，表示返回条件不成立的文档。<br>似乎只能跟正则和 <code>$mod</code> 一起使用？？？？<br>还不知如何使用</p>
<p>(5) <code>$unset</code>: 和 <code>$set</code> 相反，表示移除文档属性。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">for u in db.users.find(&#123;&apos;name&apos;:&quot;user1&quot;&#125;):</div><div class="line">    print(u)</div><div class="line"># 显示如： &#123; &quot;_id&quot; : ObjectId(&quot;4c479885089df9b53474170a&quot;), &quot;name&quot; : &quot;user1&quot;, &quot;age&quot; : 15, &quot;address&quot; : [ &quot;address1&quot;, &quot;address2&quot; ] &#125;</div><div class="line"></div><div class="line">db.users.update(&#123;&apos;name&apos;:&quot;user1&quot;&#125;, &#123;&apos;$unset&apos;:&#123;&apos;address&apos;:1, &apos;age&apos;:1&#125;&#125;)</div><div class="line">for u in db.users.find(&#123;&apos;name&apos;:&quot;user1&quot;&#125;):</div><div class="line">    print(u)</div><div class="line"># 显示如： &#123; &quot;_id&quot; : ObjectId(&quot;4c479885089df9b53474170a&quot;), &quot;name&quot; : &quot;user1&quot; &#125;</div></pre></td></tr></table></figure>
<p>(6) <code>$push</code>: 和 <code>$pushAll</code> 都是向数组属性添加元素。好像两者没啥区别</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">for u in db.users.find(&#123;&apos;name&apos;:&quot;user1&quot;&#125;):</div><div class="line">    print(u)</div><div class="line"># 显示如： &#123; &quot;_id&quot; : ObjectId(&quot;4c479885089df9b53474170a&quot;), &quot;age&quot; : 15, &quot;name&quot; : &quot;user1&quot; &#125;</div><div class="line"></div><div class="line">db.users.update(&#123;&apos;name&apos;:&quot;user1&quot;&#125;, &#123;&apos;$push&apos;:&#123;&apos;data&apos;:1&#125;&#125;)</div><div class="line">for u in db.users.find(&#123;&apos;name&apos;:&quot;user1&quot;&#125;):</div><div class="line">    print(u)</div><div class="line"># 显示如： &#123; &quot;_id&quot; : ObjectId(&quot;4c479885089df9b53474170a&quot;), &quot;age&quot; : 15, &quot;data&quot; : [ 1 ], &quot;name&quot; : &quot;user1&quot; &#125;</div><div class="line"></div><div class="line">db.users.update(&#123;&apos;name&apos;:&quot;user1&quot;&#125;, &#123;&apos;$pushAll&apos;:&#123;&apos;data&apos;:[2,3,4,5]&#125;&#125;)</div><div class="line">for u in db.users.find(&#123;&apos;name&apos;:&quot;user1&quot;&#125;):</div><div class="line">    print(u)</div><div class="line"># 显示如： &#123; &quot;_id&quot; : ObjectId(&quot;4c479885089df9b53474170a&quot;), &quot;age&quot; : 15, &quot;data&quot; : [ 1, 2, 3, 4, 5 ], &quot;name&quot; : &quot;user1&quot; &#125;</div></pre></td></tr></table></figure>
<p>(7) <code>$addToSet</code>: 和 <code>$push</code> 类似，不过仅在该元素不存在时才添加 (Set 表示不重复元素集合)。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">db.users.update(&#123;&apos;name&apos;:&quot;user2&quot;&#125;, &#123;&apos;$unset&apos;:&#123;&apos;data&apos;:1&#125;&#125;)</div><div class="line">db.users.update(&#123;&apos;name&apos;:&quot;user2&quot;&#125;, &#123;&apos;$addToSet&apos;:&#123;&apos;data&apos;:1&#125;&#125;)</div><div class="line">db.users.update(&#123;&apos;name&apos;:&quot;user2&quot;&#125;, &#123;&apos;$addToSet&apos;:&#123;&apos;data&apos;:1&#125;&#125;)</div><div class="line">for u in db.users.find(&#123;&apos;name&apos;:&quot;user2&quot;&#125;):</div><div class="line">    print(u)</div><div class="line"># 显示： &#123; &quot;_id&quot; : ObjectId(&quot;4c479896089df9b53474170b&quot;), &quot;data&quot; : [ 1 ], &quot;name&quot; : &quot;user2&quot; &#125;</div><div class="line"></div><div class="line">db.users.update(&#123;&apos;name&apos;:&quot;user2&quot;&#125;, &#123;&apos;$push&apos;:&#123;&apos;data&apos;:1&#125;&#125;)</div><div class="line">for u in db.users.find(&#123;&apos;name&apos;:&quot;user2&quot;&#125;):</div><div class="line">    print(u)</div><div class="line"># 显示： &#123; &quot;_id&quot; : ObjectId(&quot;4c479896089df9b53474170b&quot;), &quot;data&quot; : [ 1, 1 ], &quot;name&quot; : &quot;user2&quot; &#125;</div><div class="line"></div><div class="line">要添加多个元素，使用 $each。</div><div class="line">db.users.update(&#123;&apos;name&apos;:&quot;user2&quot;&#125;, &#123;&apos;$addToSet&apos;:&#123;&apos;data&apos;:&#123;&apos;$each&apos;:[1,2,3,4]&#125;&#125;&#125;)</div><div class="line">for u in db.users.find(&#123;&apos;name&apos;:&quot;user2&quot;&#125;):</div><div class="line">    print(u)</div><div class="line"># 显示： &#123;&apos;age&apos;: 12, &apos;_id&apos;: ObjectId(&apos;4c479896089df9b53474170b&apos;), &apos;data&apos;: [1, 1, 2, 3, 4], &apos;name&apos;: &apos;user2&apos;&#125;</div><div class="line"># 貌似不会自动删除重复</div></pre></td></tr></table></figure>
<p>(8) <code>$each</code> 添加多个元素用。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">db.users.update(&#123;&apos;name&apos;:&quot;user2&quot;&#125;, &#123;&apos;$unset&apos;:&#123;&apos;data&apos;:1&#125;&#125;)</div><div class="line">db.users.update(&#123;&apos;name&apos;:&quot;user2&quot;&#125;, &#123;&apos;$addToSet&apos;:&#123;&apos;data&apos;:1&#125;&#125;)</div><div class="line">for u in db.users.find(&#123;&apos;name&apos;:&quot;user2&quot;&#125;):</div><div class="line">    print(u)</div><div class="line"># 显示： &#123; &quot;_id&quot; : ObjectId(&quot;4c479896089df9b53474170b&quot;), &quot;data&quot; : [ 1 ], &quot;name&quot; : &quot;user2&quot; &#125;</div><div class="line"></div><div class="line">db.users.update(&#123;&apos;name&apos;:&quot;user2&quot;&#125;, &#123;&apos;$addToSet&apos;:&#123;&apos;data&apos;:&#123;&apos;$each&apos;:[1,2,3,4]&#125;&#125;&#125;)</div><div class="line">for u in db.users.find(&#123;&apos;name&apos;:&quot;user2&quot;&#125;):</div><div class="line">    print(u)</div><div class="line"># 显示： &#123;&apos;age&apos;: 12, &apos;_id&apos;: ObjectId(&apos;4c479896089df9b53474170b&apos;), &apos;data&apos;: [1, 2, 3, 4], &apos;name&apos;: &apos;user2&apos;&#125;</div><div class="line"></div><div class="line">db.users.update(&#123;&apos;name&apos;:&quot;user2&quot;&#125;, &#123;&apos;$addToSet&apos;:&#123;&apos;data&apos;:[1,2,3,4]&#125;&#125;)</div><div class="line">for u in db.users.find(&#123;&apos;name&apos;:&quot;user2&quot;&#125;):</div><div class="line">    print(u)</div><div class="line"># 显示： &#123; &quot;_id&quot; : ObjectId(&quot;4c479896089df9b53474170b&quot;), &quot;data&quot; : [ 1, 2, 3, 4, [ 1, 2, 3, 4 ] ], &quot;name&quot; : &quot;user2&quot; &#125;</div><div class="line"></div><div class="line">db.users.update(&#123;&apos;name&apos;:&quot;user2&quot;&#125;, &#123;&apos;$unset&apos;:&#123;&apos;data&apos;:1&#125;&#125;)</div><div class="line">db.users.update(&#123;&apos;name&apos;:&quot;user2&quot;&#125;, &#123;&apos;$addToSet&apos;:&#123;&apos;data&apos;:[1,2,3,4]&#125;&#125;)</div><div class="line">for u in db.users.find(&#123;&apos;name&apos;:&quot;user2&quot;&#125;):</div><div class="line">    print(u)</div><div class="line"># 显示： &#123; &quot;_id&quot; : ObjectId(&quot;4c47a133b48cde79c6780df0&quot;), &quot;data&quot; : [ [1, 2, 3, 4] ], &quot;name&quot; : &quot;user2&quot; &#125;</div></pre></td></tr></table></figure>
<p>(9) <code>$pop</code>: 移除数组属性的元素(按数组下标移除)，<code>$pull</code> 按值移除，<code>$pullAll</code> 移除所有符合提交的元素。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">db.users.update(&#123;&apos;name&apos;:&quot;user2&quot;&#125;, &#123;&apos;$unset&apos;:&#123;&apos;data&apos;:1&#125;&#125;)</div><div class="line">db.users.update(&#123;&apos;name&apos;:&quot;user2&quot;&#125;, &#123;&apos;$addToSet&apos;:&#123;&apos;data&apos;:&#123;&apos;$each&apos;:[1, 2, 3, 4, 5, 6, 7, 2, 3 ]&#125;&#125;&#125;)</div><div class="line">for u in db.users.find(&#123;&apos;name&apos;:&quot;user2&quot;&#125;):</div><div class="line">    print(u)</div><div class="line"># 显示： &#123; &quot;_id&quot; : ObjectId(&quot;4c47a133b48cde79c6780df0&quot;), &quot;data&quot; : [ 1, 2, 3, 4, 5, 6, 7, 2, 3 ], &quot;name&quot; : &quot;user2&quot; &#125;</div><div class="line"></div><div class="line">db.users.update(&#123;&apos;name&apos;:&quot;user2&quot;&#125;, &#123;&apos;$pop&apos;:&#123;&apos;data&apos;:1&#125;&#125;) # 移除最后一个元素</div><div class="line">for u in db.users.find(&#123;&apos;name&apos;:&quot;user2&quot;&#125;):</div><div class="line">    print(u)</div><div class="line"># 显示： &#123; &quot;_id&quot; : ObjectId(&quot;4c47a133b48cde79c6780df0&quot;), &quot;data&quot; : [ 1, 2, 3, 4, 5, 6, 7, 2 ], &quot;name&quot; : &quot;user2&quot; &#125;</div><div class="line"></div><div class="line">db.users.update(&#123;&apos;name&apos;:&quot;user2&quot;&#125;, &#123;&apos;$pop&apos;:&#123;&apos;data&apos;:-1&#125;&#125;) # 移除第一个元素</div><div class="line">for u in db.users.find(&#123;&apos;name&apos;:&quot;user2&quot;&#125;):</div><div class="line">    print(u)</div><div class="line"># 显示： &#123; &quot;_id&quot; : ObjectId(&quot;4c47a133b48cde79c6780df0&quot;), &quot;data&quot; : [ 2, 3, 4, 5, 6, 7, 2 ], &quot;name&quot; : &quot;user2&quot; &#125;</div><div class="line"></div><div class="line">db.users.update(&#123;&apos;name&apos;:&quot;user2&quot;&#125;, &#123;&apos;$pull&apos;:&#123;&apos;data&apos;:2&#125;&#125;) # 移除全部 2</div><div class="line">for u in db.users.find(&#123;&apos;name&apos;:&quot;user2&quot;&#125;):</div><div class="line">    print(u)</div><div class="line"># 显示： &#123; &quot;_id&quot; : ObjectId(&quot;4c47a133b48cde79c6780df0&quot;), &quot;data&quot; : [ 3, 4, 5, 6, 7 ], &quot;name&quot; : &quot;user2&quot; &#125;</div><div class="line"></div><div class="line">db.users.update(&#123;&apos;name&apos;:&quot;user2&quot;&#125;, &#123;&apos;$pullAll&apos;:&#123;&apos;data&apos;:[3,5,6]&#125;&#125;) # 移除 3,5,6</div><div class="line">for u in db.users.find(&#123;&apos;name&apos;:&quot;user2&quot;&#125;):</div><div class="line">    print(u)</div><div class="line"># 显示： &#123; &quot;_id&quot; : ObjectId(&quot;4c47a133b48cde79c6780df0&quot;), &quot;data&quot; : [ 4, 7 ], &quot;name&quot; : &quot;user2&quot; &#125;</div></pre></td></tr></table></figure>
<p>(10) <code>$where</code>: 用 JS 代码来代替有些丑陋的 <code>$lt</code>、<code>$gt</code>。<br>MongoDB 内置了 Javascript Engine (SpiderMonkey)。可直接使用 JS Expression，甚至使用 JS Function 写更复杂的 Code Block。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">db.users.remove() # 删除集合里的所有记录</div><div class="line">for i in range(10):</div><div class="line">db.users.insert(&#123;&apos;name&apos;:&quot;user&quot; + str(i), &apos;age&apos;:i&#125;)</div><div class="line">for u in db.users.find():</div><div class="line">    print(u)</div></pre></td></tr></table></figure>
<p>显示如下：<br>{ “_id” : ObjectId(“4c47b3372a9b2be866da226e”), “name” : “user0”, “age” : 0 }<br>{ “_id” : ObjectId(“4c47b3372a9b2be866da226f”), “name” : “user1”, “age” : 1 }<br>{ “_id” : ObjectId(“4c47b3372a9b2be866da2270”), “name” : “user2”, “age” : 2 }<br>{ “_id” : ObjectId(“4c47b3372a9b2be866da2271”), “name” : “user3”, “age” : 3 }<br>{ “_id” : ObjectId(“4c47b3372a9b2be866da2272”), “name” : “user4”, “age” : 4 }<br>{ “_id” : ObjectId(“4c47b3372a9b2be866da2273”), “name” : “user5”, “age” : 5 }<br>{ “_id” : ObjectId(“4c47b3372a9b2be866da2274”), “name” : “user6”, “age” : 6 }<br>{ “_id” : ObjectId(“4c47b3372a9b2be866da2275”), “name” : “user7”, “age” : 7 }<br>{ “_id” : ObjectId(“4c47b3372a9b2be866da2276”), “name” : “user8”, “age” : 8 }<br>{ “_id” : ObjectId(“4c47b3372a9b2be866da2277”), “name” : “user9”, “age” : 9 }</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">for u in db.users.find(&#123;&quot;$where&quot;:&quot;this.age &gt; 7 || this.age &lt; 3&quot;&#125;):</div><div class="line">    print(u)</div></pre></td></tr></table></figure>
<p>显示如下：<br>{‘age’: 0.0, ‘_id’: ObjectId(‘4c47b3372a9b2be866da226e’), ‘name’: ‘user0’}<br>{‘age’: 1.0, ‘_id’: ObjectId(‘4c47b3372a9b2be866da226f’), ‘name’: ‘user1’}<br>{‘age’: 2.0, ‘_id’: ObjectId(‘4c47b3372a9b2be866da2270’), ‘name’: ‘user2’}<br>{‘age’: 8.0, ‘_id’: ObjectId(‘4c47b3372a9b2be866da2276’), ‘name’: ‘user8’}<br>{‘age’: 9.0, ‘_id’: ObjectId(‘4c47b3372a9b2be866da2277’), ‘name’: ‘user9’}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">for u in db.users.find().where(&quot;this.age &gt; 7 || this.age &lt; 3&quot;):</div><div class="line">    print(u)</div></pre></td></tr></table></figure>
<p>显示如下：<br>{‘age’: 0.0, ‘_id’: ObjectId(‘4c47b3372a9b2be866da226e’), ‘name’: ‘user0’}<br>{‘age’: 1.0, ‘_id’: ObjectId(‘4c47b3372a9b2be866da226f’), ‘name’: ‘user1’}<br>{‘age’: 2.0, ‘_id’: ObjectId(‘4c47b3372a9b2be866da2270’), ‘name’: ‘user2’}<br>{‘age’: 8.0, ‘_id’: ObjectId(‘4c47b3372a9b2be866da2276’), ‘name’: ‘user8’}<br>{‘age’: 9.0, ‘_id’: ObjectId(‘4c47b3372a9b2be866da2277’), ‘name’: ‘user9’}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># 使用自定义的 function, javascript语法的</div><div class="line">for u in db.users.find().where(&quot;function() &#123; return this.age &gt; 7 || this.age &lt; 3;&#125;&quot;):</div><div class="line">    print(u)</div></pre></td></tr></table></figure>
<p>显示如下：<br>{‘age’: 0.0, ‘_id’: ObjectId(‘4c47b3372a9b2be866da226e’), ‘name’: ‘user0’}<br>{‘age’: 1.0, ‘_id’: ObjectId(‘4c47b3372a9b2be866da226f’), ‘name’: ‘user1’}<br>{‘age’: 2.0, ‘_id’: ObjectId(‘4c47b3372a9b2be866da2270’), ‘name’: ‘user2’}<br>{‘age’: 8.0, ‘_id’: ObjectId(‘4c47b3372a9b2be866da2276’), ‘name’: ‘user8’}<br>{‘age’: 9.0, ‘_id’: ObjectId(‘4c47b3372a9b2be866da2277’), ‘name’: ‘user9’}</p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://mpengju.com/2017/06/22/Python操作MongoDB/" data-id="cj47vnhi0000idgvsymihq61w" class="article-share-link">分享</a><div class="tags"><a href="/tags/数据库/">数据库</a><a href="/tags/mongodb/">mongodb</a><a href="/tags/python/">python</a></div><div class="post-nav"><a href="/2017/06/22/MONGODB基本命令用法/" class="next">MONGODB基本命令用法</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://mpengju.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tomcat/">Tomcat</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/fedora/">fedora</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/github/">github</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/html/">html</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/nodejs/">nodejs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/raspberry-pi/">raspberry pi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/react/">react</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/树莓派/">树莓派</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/正则/">正则</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/移动端/">移动端</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/转换/" style="font-size: 15px;">转换</a> <a href="/tags/前端/" style="font-size: 15px;">前端</a> <a href="/tags/正则表达式/" style="font-size: 15px;">正则表达式</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/服务器/" style="font-size: 15px;">服务器</a> <a href="/tags/数据库/" style="font-size: 15px;">数据库</a> <a href="/tags/mongodb/" style="font-size: 15px;">mongodb</a> <a href="/tags/机器学习/" style="font-size: 15px;">机器学习</a> <a href="/tags/fedora/" style="font-size: 15px;">fedora</a> <a href="/tags/SSH/" style="font-size: 15px;">SSH</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/SASS/" style="font-size: 15px;">SASS</a> <a href="/tags/代码块/" style="font-size: 15px;">代码块</a> <a href="/tags/树莓派/" style="font-size: 15px;">树莓派</a> <a href="/tags/物联网/" style="font-size: 15px;">物联网</a> <a href="/tags/远程登录/" style="font-size: 15px;">远程登录</a> <a href="/tags/ajax/" style="font-size: 15px;">ajax</a> <a href="/tags/webview/" style="font-size: 15px;">webview</a> <a href="/tags/h5/" style="font-size: 15px;">h5</a> <a href="/tags/vlc/" style="font-size: 15px;">vlc</a> <a href="/tags/Tomcat/" style="font-size: 15px;">Tomcat</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/js/" style="font-size: 15px;">js</a> <a href="/tags/github/" style="font-size: 15px;">github</a> <a href="/tags/域名/" style="font-size: 15px;">域名</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/主题/" style="font-size: 15px;">主题</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/存储/" style="font-size: 15px;">存储</a> <a href="/tags/jQuery/" style="font-size: 15px;">jQuery</a> <a href="/tags/命令/" style="font-size: 15px;">命令</a> <a href="/tags/清理垃圾/" style="font-size: 15px;">清理垃圾</a> <a href="/tags/html/" style="font-size: 15px;">html</a> <a href="/tags/node/" style="font-size: 15px;">node</a> <a href="/tags/less/" style="font-size: 15px;">less</a> <a href="/tags/格式化/" style="font-size: 15px;">格式化</a> <a href="/tags/npm/" style="font-size: 15px;">npm</a> <a href="/tags/卸载/" style="font-size: 15px;">卸载</a> <a href="/tags/react/" style="font-size: 15px;">react</a> <a href="/tags/jquery/" style="font-size: 15px;">jquery</a> <a href="/tags/移动端/" style="font-size: 15px;">移动端</a> <a href="/tags/WEB/" style="font-size: 15px;">WEB</a> <a href="/tags/邮件/" style="font-size: 15px;">邮件</a> <a href="/tags/正则/" style="font-size: 15px;">正则</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/06/22/Python操作MongoDB/">Python操作MongoDB</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/22/MONGODB基本命令用法/">MONGODB基本命令用法</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/20/用树莓派B+连接HC-sr04超声模块测距/">用树莓派B+连接HC-sr04超声模块测距</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/20/树莓派设备购置清单/">树莓派设备购置清单</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/20/树莓派B+使用L298N驱动控制四驱车并实现一个简单的web控制端/">树莓派B+使用L298N驱动控制四驱车并实现一个简单的web控制端</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/20/jQuery截取字符串/">jQuery截取字符串</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/20/前端jsjQuery实现日期格式化字符串格式化/">前端jsjQuery实现日期格式化字符串格式化</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/20/Android中使用WebView加载H5页面的方法/">Android中使用WebView加载H5页面的方法</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/19/jQuery获取地址栏参数的值/">jQuery获取地址栏参数的值</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/14/用JSJQUERY获取地址栏参数的方法/">用JS\JQUERY获取地址栏参数的方法</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://mpengju.com" title="i@m" target="_blank">i@m</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2017 <a href="/." rel="nofollow">i@m.</a> Powered by<a rel="nofollow" target="_blank"> Hexo.</a><a rel="nofollow" target="_blank"> Theme</a> by<a rel="nofollow" target="_blank" href="mailto:i@mpengju.com?subject=我是？&amp;body=很高兴认识你"> i@mpengju.com</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>