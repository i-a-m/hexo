---
title: 树莓派常用设置
tags: [树莓派,物联网,linux]
categories: raspberry pi
---
## 开启root账号

为了方便折腾，第一时间启用 ROOT 账号

# 设置 root 账号的密码，会让你输入两次新密码 

sudo passwd root

# 启用 root 账号登录 

sudo passwd --unlock root

# 进入root账户

su root

# 修改ssh配置

nano /etc/ssh/sshd_config

修改 PermitRootLogin without-password 为 PermitRootLogin yes，crtl+o保存，ctrl+x关闭。

# 保存后重启

reboot

# 重新打开putty，输入用户名root和密码

root

登陆完毕

## 扩展可用空间

镜像只占了一部分，还有tf卡还有很多剩余空间没有利用。

\# 进入配置面板
sudo raspi-config
选第1项 Expand Filesystem
\# 扩展后重启 reboot ,扩展后可以通过命令查看SD卡的可用空间
df -h
![](/images/raspberry-ros-config.png)
## 更改时区

\# 进入配置面板
sudo raspi-config
选第5项 Internationalisation Options
选第2项 Change Timezone
选择 Asia
选择 Shanghai

# 接桌面

## 自带桌面

因为之前下载的是自带桌面的系统，所以没什么可说的，很简单。安装下面两个软件就行。

sudo apt-get install tightvncserver
sudo apt-get install xrdp

如果提示Unable……apt-get update……之类的，就更新一下。

apt-get update

然后再执行之前的那两条指令

安装完成后，就可以用windows自带的远程桌面工具，连接进入树莓派桌面

## i3桌面（用不到）

官方系统是有自带桌面的，不用装这个，这个是是我自己折腾玩的，只做记录用。

\# 如果下载的是精简版系统，是没有桌面的，最好装个i3之类的桌面
\#（安装之后Alt+1等数字切换界面，Alt+Enter新建界面，Alt+Shift+Q关闭界面）
apt-get install x-window-system-core
apt-get install i3
mkdir ~/.i3
nano ~/.i3/config
\# 粘贴内容如下（等号线以内的部分）这个是配置文件是网上找来的备份记录一下：

```
# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout somewhen, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see http://i3wm.org/docs/userguide.html for a complete reference!

set $mod Mod1

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below. ISO 10646 = Unicode
#font -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1
#font -wenquanyi-wenquanyi bitmap song-medium-r-normal--12-120-75-75-p-119-iso10646-1
font xft:monaco 10
# The font above is very space-efficient, that is, it looks good, sharp and
# clear in small sizes. However, if you need a lot of unicode glyphs or
# right-to-left text rendering, you should instead use pango for rendering and
# chose a FreeType font, such as:
# font pango:DejaVu Sans Mono 10

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# 自定义
bindsym $mode+m exec emacs
# 无边框：$mod+u
# 普通模式：$mod+t
bindsym $mod+t border normal
bindsym $mod+u border none
# 自动把打开的程序放到指定工作区
assign [class="(?i)firefox"] → 1
assign [class="(?i)emacs"] → 2
assign [class="(?i)amule"] → 3

# 暂存器使用
# mod shift -  隐藏当前窗口
# mod -	       现实第一个暂存的窗口
bindsym $mod+Shift+minus move scratchpad
bindsym $mod+minus scratchpad show

# start a terminal
bindsym $mod+Return exec i3-sensible-terminal

# kill focused window
bindsym $mod+Shift+q kill

# start dmenu (a program launcher)
bindsym $mod+d exec dmenu_run
# There also is the (new) i3-dmenu-desktop which only displays applications
# shipping a .desktop file. It is a wrapper around dmenu, so you need that
# installed.
# bindsym $mod+d exec --no-startup-id i3-dmenu-desktop

# change focus
bindsym $mod+j focus left
bindsym $mod+k focus down
bindsym $mod+l focus up
bindsym $mod+semicolon focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# move focused window
bindsym $mod+Shift+j move left
bindsym $mod+Shift+k move down
bindsym $mod+Shift+l move up
bindsym $mod+Shift+semicolon move right

# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# split in horizontal orientation
bindsym $mod+h split h

# split in vertical orientation
bindsym $mod+v split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# focus the parent container
bindsym $mod+a focus parent

# focus the child container
#bindsym $mod+d focus child

# switch to workspace
bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9
bindsym $mod+0 workspace 10

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace 1
bindsym $mod+Shift+2 move container to workspace 2
bindsym $mod+Shift+3 move container to workspace 3
bindsym $mod+Shift+4 move container to workspace 4
bindsym $mod+Shift+5 move container to workspace 5
bindsym $mod+Shift+6 move container to workspace 6
bindsym $mod+Shift+7 move container to workspace 7
bindsym $mod+Shift+8 move container to workspace 8
bindsym $mod+Shift+9 move container to workspace 9
bindsym $mod+Shift+0 move container to workspace 10

# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart
# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

# resize window (you can also use the mouse for that)
mode "resize" {
        # These bindings trigger as soon as you enter the resize mode

        # Pressing left will shrink the window’s width.
        # Pressing right will grow the window’s width.
        # Pressing up will shrink the window’s height.
        # Pressing down will grow the window’s height.
        bindsym j resize shrink width 10 px or 10 ppt
        bindsym k resize grow height 10 px or 10 ppt
        bindsym l resize shrink height 10 px or 10 ppt
        bindsym semicolon resize grow width 10 px or 10 ppt

        # same bindings, but for the arrow keys
        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

bindsym $mod+r mode "resize"

# Startups #
exec --no-startup-id fcitx
exec --no-startup-id volumeicon

# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
bar {
	position top
        status_command conky -c ~/.conkyrc
    colors {
        background #555555
        statusline #ffffff
        focused_workspace  #4c7899 #285577 #ffffff
        active_workspace   #333333 #5f676a #ffffff
        inactive_workspace #333333 #222222 #888888
        urgent_workspace   #2f343a #900000 #ffffff
    }

}

```

装i3还可以装系统运行监视工具conky，很不错

apt-get install conky
