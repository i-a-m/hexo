<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>npm | i@m</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="/css/normalize.min.css"><link rel="stylesheet" type="text/css" href="/css/pure-min.css"><link rel="stylesheet" type="text/css" href="/css/grids-responsive-min.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><script type="text/javascript" src="/js/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">npm</h1><a id="logo" href="/.">i@m</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">npm</h1><div class="post-meta">Jul 15, 2017<span> | </span><span class="category"><a href="/categories/nodejs/">nodejs</a></span><script src="/js/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><div class="post-content"><h4 id="npm是什么"><a href="#npm是什么" class="headerlink" title="npm是什么"></a>npm是什么</h4><p>NPM的全称是Node Package Manager，是随同NodeJS一起安装的包管理和分发工具，它很方便让JavaScript开发者下载、安装、上传以及管理已经安装的包。</p>
<h5 id="npm-install-安装模块"><a href="#npm-install-安装模块" class="headerlink" title="npm install 安装模块"></a>npm install 安装模块</h5><p>基础语法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">npm install (with no args, in package dir)</div><div class="line">npm install [&lt;@scope&gt;/]&lt;name&gt;</div><div class="line">npm install [&lt;@scope&gt;/]&lt;name&gt;@&lt;tag&gt;</div><div class="line">npm install [&lt;@scope&gt;/]&lt;name&gt;@&lt;version&gt;</div><div class="line">npm install [&lt;@scope&gt;/]&lt;name&gt;@&lt;version range&gt;</div><div class="line">npm install &lt;tarball file&gt;</div><div class="line">npm install &lt;tarball url&gt;</div><div class="line">npm install &lt;folder&gt;</div><div class="line"></div><div class="line">alias: npm i</div><div class="line">common options: [-S|--save|-D|--save-dev|-O|--save-optional] [-E|--save-exact] [--dry-run]</div></pre></td></tr></table></figure></p>
<p>安装包，默认会安装最新的版本<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install gulp</div></pre></td></tr></table></figure></p>
<p>安装指定版本<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install gulp@3.9.1</div></pre></td></tr></table></figure></p>
<p>安装包并将信息保持到项目的package.json文件中<br>项目对模块的依赖可以使用下面的 3 种方法来表示（假设当前版本号是 1.1.0 ）：</p>
<pre><code>兼容模块新发布的补丁版本：~1.1.0、1.1.x、1.1
兼容模块新发布的小版本、补丁版本：^1.1.0、1.x、1
兼容模块新发布的大版本、小版本、补丁版本：*、x
</code></pre><p>-S, –save 安装包信息将加入到dependencies（生产阶段的依赖）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install gulp --save 或 npm install gulp -S</div></pre></td></tr></table></figure>
<p>package.json 文件的 dependencies 字段：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&quot;dependencies&quot;: &#123;</div><div class="line">    &quot;gulp&quot;: &quot;^3.9.1&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>-O, –save-optional 安装包信息将加入到optionalDependencies（可选阶段的依赖）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install gulp --save-optional 或 npm install gulp -O</div></pre></td></tr></table></figure></p>
<p>package.json 文件的optionalDependencies字段：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&quot;optionalDependencies&quot;: &#123;</div><div class="line">    &quot;gulp&quot;: &quot;^3.9.1&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>-E, –save-exact 精确安装指定模块版本<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install gulp --save-exact 或 npm install gulp -E</div></pre></td></tr></table></figure></p>
<p>输入命令npm install gulp -ES，留意package.json 文件的 dependencies 字段，以看出版本号中的^消失了<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&quot;dependencies&quot;: &#123;</div><div class="line">    &quot;gulp&quot;: &quot;3.9.1&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>模块的依赖都被写入了package.json文件后，他人打开项目的根目录（项目开源、内部团队合作），使用npm install命令可以根据dependencies配置安装所有的依赖包<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install</div></pre></td></tr></table></figure></p>
<p>本地安装（local）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install gulp</div></pre></td></tr></table></figure></p>
<p>全局安装（global）,使用 -g 或 –global<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install gulp -g</div></pre></td></tr></table></figure></p>
<h5 id="npm-uninstall-卸载模块"><a href="#npm-uninstall-卸载模块" class="headerlink" title="npm uninstall 卸载模块"></a>npm uninstall 卸载模块</h5><p>基础语法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">npm uninstall [&lt;@scope&gt;/]&lt;pkg&gt;[@&lt;version&gt;]... [-S|--save|-D|--save-dev|-O|--save-optional]</div><div class="line"></div><div class="line">aliases: remove, rm, r, un, unlink</div></pre></td></tr></table></figure>
<p>如卸载开发版本的模块<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm uninstall gulp --save-dev</div></pre></td></tr></table></figure></p>
<h5 id="npm-update-更新模块"><a href="#npm-update-更新模块" class="headerlink" title="npm update 更新模块"></a>npm update 更新模块</h5><p>基础语法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm update [-g] [&lt;pkg&gt;...]</div></pre></td></tr></table></figure></p>
<h5 id="npm-outdated-检查模块是否已经过时"><a href="#npm-outdated-检查模块是否已经过时" class="headerlink" title="npm outdated 检查模块是否已经过时"></a>npm outdated 检查模块是否已经过时</h5><p>基础语法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm outdated [[&lt;@scope&gt;/]&lt;pkg&gt; ...]</div></pre></td></tr></table></figure></p>
<p>此命令会列出所有已经过时的包，可以及时进行包的更新</p>
<h5 id="npm-ls-查看安装的模块"><a href="#npm-ls-查看安装的模块" class="headerlink" title="npm ls 查看安装的模块"></a>npm ls 查看安装的模块</h5><p>基础语法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">npm ls [[&lt;@scope&gt;/]&lt;pkg&gt; ...]</div><div class="line"></div><div class="line">aliases: list, la, ll</div></pre></td></tr></table></figure></p>
<p>查看全局安装的模块及依赖<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm ls -g</div></pre></td></tr></table></figure></p>
<h5 id="npm-init-在项目中引导创建一个package-json文件"><a href="#npm-init-在项目中引导创建一个package-json文件" class="headerlink" title="npm init 在项目中引导创建一个package.json文件"></a>npm init 在项目中引导创建一个package.json文件</h5><p>安装包的信息可保持到项目的package.json文件中，以便后续的其它的项目开发或者他人合作使用，也说package.json在项目中是必不可少的。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm init [-f|--force|-y|--yes]</div></pre></td></tr></table></figure></p>
<h5 id="npm-help-查看某条命令的详细帮助"><a href="#npm-help-查看某条命令的详细帮助" class="headerlink" title="npm help 查看某条命令的详细帮助"></a>npm help 查看某条命令的详细帮助</h5><p>基础语法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm help &lt;term&gt; [&lt;terms..&gt;]</div></pre></td></tr></table></figure></p>
<p>例如输入npm help install，系统在默认的浏览器或者默认的编辑器中打开本地nodejs安装包的文件/nodejs/node_modules/npm/html/doc/cli/npm-install.html<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm help install</div></pre></td></tr></table></figure></p>
<h5 id="npm-root-查看包的安装路径"><a href="#npm-root-查看包的安装路径" class="headerlink" title="npm root 查看包的安装路径"></a>npm root 查看包的安装路径</h5><p>输出 node_modules的路径<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm root [-g]</div></pre></td></tr></table></figure></p>
<h5 id="npm-config-管理npm的配置路径"><a href="#npm-config-管理npm的配置路径" class="headerlink" title="npm config 管理npm的配置路径"></a>npm config 管理npm的配置路径</h5><p>基础语法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">npm config set &lt;key&gt; &lt;value&gt; [-g|--global]</div><div class="line">npm config get &lt;key&gt;</div><div class="line">npm config delete &lt;key&gt;</div><div class="line">npm config list</div><div class="line">npm config edit</div><div class="line">npm get &lt;key&gt;</div><div class="line">npm set &lt;key&gt; &lt;value&gt; [-g|--global]</div></pre></td></tr></table></figure></p>
<p>对于config这块用得最多应该是设置代理，解决npm安装一些模块失败的问题</p>
<p>例如我在公司内网，因为公司的防火墙原因，无法完成任何模块的安装，这个时候设置代理可以解决<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm config set proxy=http://dev-proxy.oa.com:8080</div></pre></td></tr></table></figure></p>
<p>又如国内的网络环境问题，某官方的IP可能被和谐了，幸好国内有好心人，搭建了镜像，此时我们简单设置镜像<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm config set registry=&quot;http://r.cnpmjs.org&quot;</div></pre></td></tr></table></figure></p>
<p>也可以临时配置，如安装淘宝镜像<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</div></pre></td></tr></table></figure></p>
<h5 id="npm-cache-管理模块的缓存"><a href="#npm-cache-管理模块的缓存" class="headerlink" title="npm cache 管理模块的缓存"></a>npm cache 管理模块的缓存</h5><p>基础语法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">npm cache add &lt;tarball file&gt;</div><div class="line">npm cache add &lt;folder&gt;</div><div class="line">npm cache add &lt;tarball url&gt;</div><div class="line">npm cache add &lt;name&gt;@&lt;version&gt;</div><div class="line"></div><div class="line">npm cache ls [&lt;path&gt;]</div><div class="line"></div><div class="line">npm cache clean [&lt;path&gt;]</div></pre></td></tr></table></figure></p>
<p>最常用命令无非清除npm本地缓存<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm cache clean</div></pre></td></tr></table></figure></p>
<h5 id="npm-start-启动模块"><a href="#npm-start-启动模块" class="headerlink" title="npm start 启动模块"></a>npm start 启动模块</h5><p>基础语法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm start [-- &lt;args&gt;]</div></pre></td></tr></table></figure></p>
<p>该命令写在package.json文件scripts的start字段中，可以自定义命令来配置一个服务器环境和安装一系列的必要程序，如<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&quot;scripts&quot;: &#123;</div><div class="line">    &quot;start&quot;: &quot;gulp -ws&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>此时在cmd中输入npm start命令相当于执行gulpfile.js文件自定义的watch和server命令。</p>
<p>如果package.json文件没有设置start，则将直接启动node server.js<br>npm stop 停止模块</p>
<p>基础语法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm stop [-- &lt;args&gt;]</div></pre></td></tr></table></figure></p>
<p>npm restart 重新启动模块</p>
<p>基础语法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm restart [-- &lt;args&gt;]</div></pre></td></tr></table></figure></p>
<p>npm test 测试模块</p>
<p>基础语法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">npm test [-- &lt;args&gt;]</div><div class="line">npm tst [-- &lt;args&gt;]</div></pre></td></tr></table></figure></p>
<p>该命令写在package.json文件scripts的test字段中，可以自定义该命令来执行一些操作，如<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&quot;scripts&quot;: &#123;</div><div class="line">    &quot;test&quot;: &quot;gulp release&quot;</div><div class="line">&#125;,</div></pre></td></tr></table></figure></p>
<p>此时在cmd中输入npm test命令相当于执行gulpfile.js文件自定义的release命令。<br>npm version 查看模块版本</p>
<p>基础语法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">npm version [&lt;newversion&gt; | major | minor | patch | premajor | preminor | prepatch | prerelease | from-git]</div><div class="line"></div><div class="line">&apos;npm [-v | --version]&apos; to print npm version</div><div class="line">&apos;npm view &lt;pkg&gt; version&apos; to view a package&apos;s published version</div><div class="line">&apos;npm ls&apos; to inspect current package/dependency versions</div></pre></td></tr></table></figure></p>
<p>查看模块的版本<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm version</div></pre></td></tr></table></figure></p>
<p>npm view 查看模块的注册信息</p>
<p>基础语法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">npm view [&lt;@scope&gt;/]&lt;name&gt;[@&lt;version&gt;] [&lt;field&gt;[.&lt;subfield&gt;]...]</div><div class="line"></div><div class="line">aliases: info, show, v</div></pre></td></tr></table></figure></p>
<p>查看模块的依赖关系<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm view gulp dependencies</div></pre></td></tr></table></figure></p>
<p>查看模块的源文件地址<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm view gulp repository.url</div></pre></td></tr></table></figure></p>
<p>查看模块的贡献者，包含邮箱地址<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm view npm contributors</div></pre></td></tr></table></figure></p>
<p>npm adduser 用户登录</p>
<p>基础语法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm adduser [--registry=url] [--scope=@orgname] [--always-auth]</div></pre></td></tr></table></figure></p>
<p>发布模板到npm社区前需要先登录，然后再进入发布的操作<br>npm publish 发布模块</p>
<p>基础语法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">npm publish [&lt;tarball&gt;|&lt;folder&gt;] [--tag &lt;tag&gt;] [--access &lt;public|restricted&gt;]</div><div class="line"></div><div class="line">Publishes &apos;.&apos; if no argument supplied</div><div class="line">Sets tag &apos;latest&apos; if no --tag specified</div></pre></td></tr></table></figure></p>
<p>npm access 在发布的包上设置访问级别</p>
<p>基础语法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">npm access public [&lt;package&gt;]</div><div class="line">npm access restricted [&lt;package&gt;]</div><div class="line"></div><div class="line">npm access grant &lt;read-only|read-write&gt; &lt;scope:team&gt; [&lt;package&gt;]</div><div class="line">npm access revoke &lt;scope:team&gt; [&lt;package&gt;]</div><div class="line"></div><div class="line">npm access ls-packages [&lt;user&gt;|&lt;scope&gt;|&lt;scope:team&gt;]</div><div class="line">npm access ls-collaborators [&lt;package&gt; [&lt;user&gt;]]</div><div class="line">npm access edit [&lt;package&gt;]</div></pre></td></tr></table></figure></p>
<p>npm package.json的语法</p>
<p>英文原版：<a href="https://docs.npmjs.com/files/package.json" target="_blank" rel="external">https://docs.npmjs.com/files/package.json</a></p>
<p>这块内容好多，国内有好心人整理：《npm的package.json中文文档》，从这份文档拷贝出一些比较常见的，如下：</p>
<p>默认值</p>
<p>npm会根据包内容设置一些默认值。</p>
<pre><code>&quot;scripts&quot;: {&quot;start&quot;: &quot;node server.js&quot;}

如果包的根目录有server.js文件，npm会默认将start命令设置为node server.js。

&quot;scripts&quot;:{&quot;preinstall&quot;: &quot;node-waf clean || true; node-waf configure build&quot;}

如果包的根目录有wscript文件，npm会默认将preinstall命令用node-waf进行编译。

&quot;scripts&quot;:{&quot;preinstall&quot;: &quot;node-gyp rebuild&quot;}

如果包的根目录有binding.gyp文件，npm会默认将preinstall命令用node-gyp进行编译。

&quot;contributors&quot;: [...]

如果包的根目录有AUTHORS文件，npm会默认逐行按Name &lt;email&gt; (url)格式处理，邮箱和url是可选的。#号和空格开头的行会被忽略。
</code></pre><p>name</p>
<p>在package.json中最重要的就是name和version字段。他们都是必须的，如果没有就无法install。name和version一起组成的标识在假设中是唯一的。改变包应该同时改变version。</p>
<p>name是这个东西的名字。注意：</p>
<pre><code>不要把node或者js放在名字中。因为你写了package.json它就被假定成为了js，不过你可以用&quot;engine&quot;字段指定一个引擎（见后文）。
这个名字会作为在URL的一部分、命令行的参数或者文件夹的名字。任何non-url-safe的字符都是不能用的。
这个名字可能会作为参数被传入require()，所以它应该比较短，但也要意义清晰。
在你爱上你的名字之前，你可能要去npm registry查看一下这个名字是否已经被使用了。http://registry.npmjs.org/
</code></pre><p>version</p>
<p>version必须能被node-semver解析，它被包在npm的依赖中。（要自己用可以执行npm install semver）</p>
<p>可用的“数字”或者“范围”见semver(7).</p>
<p>description</p>
<p>放简介，字符串，方便在npm search中搜索</p>
<p>keywords</p>
<p>关键字，数组、字符串，方便在npm search中搜索</p>
<p>bugs</p>
<p>你项目的提交问题的url和（或）邮件地址<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div><div class="line">&#123;</div><div class="line"> &quot;url&quot; : &quot;http://github.com/owner/project/issues&quot;,</div><div class="line">&quot;email&quot; : &quot;project@hostname.com&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>license</p>
<p>你应该要指定一个许可证，让人知道使用的权利和限制的。</p>
<p>最简单的方法是，假如你用一个像BSD或者MIT这样通用的许可证，就只需要指定一个许可证的名字，像这样：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123; &quot;license&quot; : &quot;BSD&quot; &#125;</div></pre></td></tr></table></figure></p>
<p>如果你又更复杂的许可条件，或者想要提供给更多地细节，可以这样:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&quot;licenses&quot; : [</div><div class="line">  &#123; &quot;type&quot; : &quot;MyLicense&quot;</div><div class="line">  , &quot;url&quot; : &quot;http://github.com/owner/project/path/to/license&quot;</div><div class="line">  &#125;</div><div class="line">]</div></pre></td></tr></table></figure></p>
<p>repository</p>
<p>指定你的代码存放的地方。这个对希望贡献的人有帮助。如果git仓库在github上，那么npm docs命令能找到你。</p>
<p>这样做：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&quot;repository&quot; :</div><div class="line">  &#123; &quot;type&quot; : &quot;git&quot;</div><div class="line">  , &quot;url&quot; : &quot;http://github.com/isaacs/npm.git&quot;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">&quot;repository&quot; :</div><div class="line">  &#123; &quot;type&quot; : &quot;svn&quot;</div><div class="line">  , &quot;url&quot; : &quot;http://v8.googlecode.com/svn/trunk/&quot;</div><div class="line">  &#125;</div></pre></td></tr></table></figure></p>
<p>URL应该是公开的（即便是只读的）能直接被未经过修改的版本控制程序处理的url。不应该是一个html的项目页面。因为它是给计算机看的。</p>
<p>scripts</p>
<p>“scripts”是一个由脚本命令组成的hash对象，他们在包不同的生命周期中被执行。key是生命周期事件，value是要运行的命令。</p>
<p>参考上面的npm start、npm test命令</p>
<p>更多详细请看 npm-scripts(7)</p>
<p>config</p>
<p>“config” hash可以用来配置用于包脚本中的跨版本参数。在实例中，如果一个包有下面的配置：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line"> &quot;name&quot; : &quot;foo&quot;,</div><div class="line"> &quot;config&quot; : &#123; &quot;port&quot; : &quot;8080&quot; &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>然后有一个“start”命令引用了npm_package_config_port环境变量，用户可以通过npm config set foo:port 8001来重写他。</p>
<p>参见 npm-config(7) 和 npm-scripts(7)。</p>
<p>dependencies</p>
<p>依赖是给一组包名指定版本范围的一个hash。这个版本范围是一个由一个或多个空格分隔的字符串。依赖还可以用tarball或者git URL。</p>
<p>请不要将测试或过渡性的依赖放在dependencieshash中。见下文的devDependencies</p>
<p>详见semver(7).</p>
<pre><code>version 必须完全和version一致
&gt;version 必须比version大
&gt;=version 同上
&lt;version 同上
&lt;=version 同上
~version 大约一样，见semver(7)
1.2.x 1.2.0, 1.2.1, 等，但不包括1.3.0
http://... 见下文&apos;依赖URL&apos;
* 所有
&quot;&quot; 空，同*
version1 - version2 同 &gt;=version1 &lt;=version2.
range1 || range2 二选一。
git... 见下文&apos;依赖Git URL&apos;
user/repo 见下文&apos;GitHub URLs&apos;
</code></pre><p>比如下面都是合法的：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&#123; &quot;dependencies&quot; :</div><div class="line">  &#123; &quot;foo&quot; : &quot;1.0.0 - 2.9999.9999&quot;</div><div class="line">  , &quot;bar&quot; : &quot;&gt;=1.0.2 &lt;2.1.2&quot;</div><div class="line">  , &quot;baz&quot; : &quot;&gt;1.0.2 &lt;=2.3.4&quot;</div><div class="line">  , &quot;boo&quot; : &quot;2.0.1&quot;</div><div class="line">  , &quot;qux&quot; : &quot;&lt;1.0.0 || &gt;=2.3.1 &lt;2.4.5 || &gt;=2.5.2 &lt;3.0.0&quot;</div><div class="line">  , &quot;asd&quot; : &quot;http://asdf.com/asdf.tar.gz&quot;</div><div class="line">  , &quot;til&quot; : &quot;~1.2&quot;</div><div class="line">  , &quot;elf&quot; : &quot;~1.2.3&quot;</div><div class="line">  , &quot;two&quot; : &quot;2.x&quot;</div><div class="line">  , &quot;thr&quot; : &quot;3.3.x&quot;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>devDependencies</p>
<p>如果有人要使用你的模块，那么他们可能不需要你开发使用的外部测试或者文档框架。</p>
<p>在这种情况下，最好将这些附属的项目列在devDependencies中。</p>
<p>这些东西会在执行npm link或者npm install的时候初始化，并可以像其他npm配置参数一样管理。详见npm-config(7)。</p>
<p>对于非特定平台的构建步骤，比如需要编译CoffeeScript，可以用prepublish脚本去实现，并把它依赖的包放在devDependency中。（译者注：prepublish定义了在执行npm publish的时候先行执行的脚本）</p>
<p>比如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&#123; &quot;name&quot;: &quot;ethopia-waza&quot;,</div><div class="line">  &quot;description&quot;: &quot;a delightfully fruity coffee varietal&quot;,</div><div class="line">  &quot;version&quot;: &quot;1.2.3&quot;,</div><div class="line">  &quot;devDependencies&quot;: &#123;</div><div class="line">    &quot;coffee-script&quot;: &quot;~1.6.3&quot;</div><div class="line">  &#125;,</div><div class="line">  &quot;scripts&quot;: &#123;</div><div class="line">    &quot;prepublish&quot;: &quot;coffee -o lib/ -c src/waza.coffee&quot;</div><div class="line">  &#125;,</div><div class="line">  &quot;main&quot;: &quot;lib/waza.js&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>prepublish脚本会在publishing前运行，这样用户就不用自己去require来编译就能使用。并且在开发模式中（比如本地运行npm install）会运行这个脚本以便更好地测试。</p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://mpengju.com/2017/07/15/npm/" data-id="cj5wbkqkt005ryw633dt0t26l" class="article-share-link">分享</a><div class="tags"><a href="/tags/前端/">前端</a><a href="/tags/npm/">npm</a><a href="/tags/node/">node</a><a href="/tags/卸载/">卸载</a></div><div class="post-nav"><a href="/2017/07/15/python发送邮件方法/" class="pre">python发送邮件方法</a><a href="/2017/07/15/node+hexo/" class="next">node+hexo</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://mpengju.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Arduino/">Arduino</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tomcat/">Tomcat</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/fedora/">fedora</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/github/">github</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/html/">html</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/nodejs/">nodejs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/raspberry-pi/">raspberry pi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/react/">react</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/实验/">实验</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/树莓派/">树莓派</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/正则/">正则</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/移动端/">移动端</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/远程登录/" style="font-size: 15px;">远程登录</a> <a href="/tags/前端/" style="font-size: 15px;">前端</a> <a href="/tags/h5/" style="font-size: 15px;">h5</a> <a href="/tags/js/" style="font-size: 15px;">js</a> <a href="/tags/正则表达式/" style="font-size: 15px;">正则表达式</a> <a href="/tags/Arduino/" style="font-size: 15px;">Arduino</a> <a href="/tags/控制器/" style="font-size: 15px;">控制器</a> <a href="/tags/舵机/" style="font-size: 15px;">舵机</a> <a href="/tags/Django/" style="font-size: 15px;">Django</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/服务器/" style="font-size: 15px;">服务器</a> <a href="/tags/Flask/" style="font-size: 15px;">Flask</a> <a href="/tags/机器学习/" style="font-size: 15px;">机器学习</a> <a href="/tags/fedora/" style="font-size: 15px;">fedora</a> <a href="/tags/SSH/" style="font-size: 15px;">SSH</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/数据库/" style="font-size: 15px;">数据库</a> <a href="/tags/html/" style="font-size: 15px;">html</a> <a href="/tags/mongodb/" style="font-size: 15px;">mongodb</a> <a href="/tags/nodejs/" style="font-size: 15px;">nodejs</a> <a href="/tags/代码块/" style="font-size: 15px;">代码块</a> <a href="/tags/SASS/" style="font-size: 15px;">SASS</a> <a href="/tags/Tomcat/" style="font-size: 15px;">Tomcat</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/ajax/" style="font-size: 15px;">ajax</a> <a href="/tags/上传/" style="font-size: 15px;">上传</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/树莓派/" style="font-size: 15px;">树莓派</a> <a href="/tags/物联网/" style="font-size: 15px;">物联网</a> <a href="/tags/webview/" style="font-size: 15px;">webview</a> <a href="/tags/清理垃圾/" style="font-size: 15px;">清理垃圾</a> <a href="/tags/vlc/" style="font-size: 15px;">vlc</a> <a href="/tags/转换/" style="font-size: 15px;">转换</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/github/" style="font-size: 15px;">github</a> <a href="/tags/域名/" style="font-size: 15px;">域名</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/主题/" style="font-size: 15px;">主题</a> <a href="/tags/命令/" style="font-size: 15px;">命令</a> <a href="/tags/存储/" style="font-size: 15px;">存储</a> <a href="/tags/jquery/" style="font-size: 15px;">jquery</a> <a href="/tags/jQuery/" style="font-size: 15px;">jQuery</a> <a href="/tags/npm/" style="font-size: 15px;">npm</a> <a href="/tags/node/" style="font-size: 15px;">node</a> <a href="/tags/卸载/" style="font-size: 15px;">卸载</a> <a href="/tags/less/" style="font-size: 15px;">less</a> <a href="/tags/格式化/" style="font-size: 15px;">格式化</a> <a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/邮件/" style="font-size: 15px;">邮件</a> <a href="/tags/react/" style="font-size: 15px;">react</a> <a href="/tags/直流电机/" style="font-size: 15px;">直流电机</a> <a href="/tags/语音聊天/" style="font-size: 15px;">语音聊天</a> <a href="/tags/移动端/" style="font-size: 15px;">移动端</a> <a href="/tags/WEB/" style="font-size: 15px;">WEB</a> <a href="/tags/兼容性/" style="font-size: 15px;">兼容性</a> <a href="/tags/显示器/" style="font-size: 15px;">显示器</a> <a href="/tags/正则/" style="font-size: 15px;">正则</a> <a href="/tags/人脸识别/" style="font-size: 15px;">人脸识别</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/08/03/Arduino控制MG995/">Arduino控制MG995</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/01/树莓派使用Nokia5110显示屏显示系统信息/">树莓派使用Nokia5110显示屏显示系统信息</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/25/树莓派Scratch入门教程——最简单的方式制作智能小车GPIO篇/">树莓派Scratch入门教程——最简单的方式制作智能小车GPIO篇</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/25/常用js代码/">常用js代码</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/25/HTML5创建indexedDB数据库并使用/">HTML5创建indexedDB数据库并使用</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/21/使pre的内容自动换行/">使pre的内容自动换行</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/15/长按删除/">长按删除</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/15/练习—计算器/">练习—计算器</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/15/移动web页面给用户发送邮件的方法/">移动端WEB给用户发送邮件</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/15/移动web资源整理/">移动web资源整理</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://mpengju.com" title="i@m" target="_blank">i@m</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2017 <a href="/." rel="nofollow">i@m.</a> Powered by<a rel="nofollow" target="_blank"> Hexo.</a><a rel="nofollow" target="_blank"> Theme</a> by<a rel="nofollow" target="_blank" href="mailto:i@mpengju.com?subject=我是？&amp;body=很高兴认识你"> i@mpengju.com</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>